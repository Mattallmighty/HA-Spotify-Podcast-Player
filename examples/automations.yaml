# Example Automations for Spotify Podcast Player

# Example 1: Play The Daily Aus Headlines at 7 AM
automation:
  - alias: "Morning News Headlines"
    description: "Play The Daily Aus headlines episode every morning at 7 AM"
    trigger:
      - platform: time
        at: "07:00:00"
    condition:
      # Optional: Only run on weekdays
      - condition: time
        weekday:
          - mon
          - tue
          - wed
          - thu
          - fri
    action:
      - service: spotify_podcast_player.play_filtered_episode
        data:
          entity_id: media_player.sonos_kitchen
          podcast_url: "https://open.spotify.com/show/0onVY7weTsqjZLM8y3Tt9A"
          filter_keywords: "Headlines:"
          start_time: 0
          episodes_to_check: 5

# Example 2: Play Latest Full Episode (Different Keywords)
  - alias: "Evening Podcast"
    description: "Play full Daily Aus episode in the evening"
    trigger:
      - platform: time
        at: "18:00:00"
    action:
      - service: spotify_podcast_player.play_filtered_episode
        data:
          entity_id: media_player.sonos_living_room
          podcast_url: "https://open.spotify.com/show/0onVY7weTsqjZLM8y3Tt9A"
          filter_keywords: "Full episode"
          start_time: 30  # Skip 30 seconds of intro
          episodes_to_check: 10

# Example 3: Button-Triggered Playback
  - alias: "Play Headlines on Button Press"
    description: "Play headlines when button is pressed"
    trigger:
      - platform: state
        entity_id: input_button.play_headlines
    action:
      - service: spotify_podcast_player.play_filtered_episode
        data:
          entity_id: media_player.sonos_bedroom
          podcast_url: "https://open.spotify.com/show/0onVY7weTsqjZLM8y3Tt9A"
          filter_keywords: "Headlines:"

# Example 4: Voice-Activated via Alexa/Google
  - alias: "Play News via Voice"
    description: "Triggered by voice command"
    trigger:
      - platform: event
        event_type: alexa_actionable_notification
        event_data:
          event_id: play_news
    action:
      - service: spotify_podcast_player.play_filtered_episode
        data:
          entity_id: media_player.echo_kitchen
          podcast_url: "https://open.spotify.com/show/0onVY7weTsqjZLM8y3Tt9A"
          filter_keywords: "Headlines:"

# Example 5: Different Podcast (NPR News Now)
  - alias: "NPR News Brief"
    description: "Play NPR News Now at 6 AM"
    trigger:
      - platform: time
        at: "06:00:00"
    action:
      - service: spotify_podcast_player.play_filtered_episode
        data:
          entity_id: media_player.sonos_bedroom
          podcast_url: "https://open.spotify.com/show/4YEO4IHZB9DZOBWT6QSXHT"  # Replace with actual NPR show ID
          filter_keywords: "News"
          episodes_to_check: 3

# Example 6: Stop Playback After Episode
  - alias: "Stop After Headlines"
    description: "Automatically stop playback after 5 minutes (assuming headlines are short)"
    trigger:
      - platform: state
        entity_id: media_player.sonos_kitchen
        to: "playing"
    condition:
      - condition: template
        value_template: "{{ 'The Daily Aus' in state_attr('media_player.sonos_kitchen', 'media_title') }}"
    action:
      - delay:
          minutes: 5
      - service: media_player.media_stop
        target:
          entity_id: media_player.sonos_kitchen
